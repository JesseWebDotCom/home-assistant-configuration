button_card_templates:
  decluttering_on_off:
    aspect_ratio: 1/1
    color: auto
    custom_fields:
      status: |
        [[[
          var state = entity.state;
          var speed = entity.attributes.speed;
          var bri = entity.attributes.brightness;
          
          if (speed != null) {
            return speed;
          } else if (bri > 0) {
            bri = Math.floor(bri / 255 * 100);
            return bri + '%';
          } else {
            return entity.state;
          }
        ]]]
    hold_action:
      action: more-info
      haptic: heavy
    show_label: true
    show_last_changed: true
    show_state: false
    size: 100%
    styles:
      card:
        - border-radius: 10%
        - text-transform: capitalize
      custom_fields:
        status:
          - text-transform: uppercase
          - position: absolute
          - right: 10px
          - font-size: x-small
          - line-height: 12px
      grid:
        - grid-template-areas: '"status" "i" "n" "l"'
        - grid-template-columns: 1fr
        - grid-template-rows: 10px 1fr min-content min-content
        - justify-self: center
      img_cell:
        - align-self: center
        - text-align: center
      label:
        - justify-self: center
        - font-size: x-small
      name:
        - justify-self: center
        - font-size: large
    tap_action:
      action: toggle
      haptic: light
  header:
    color_type: card
    layout: icon_name
    show_icon: false
    show_label: true
    show_last_changed: true
    show_name: true
    show_state: false
    size: 100%
    styles:
      card:
        - height: 60px
        - width: 325px
        - box-shadow: unset
        - background-color: unset
        - text-transform: uppercase
        - padding: 0px
        - position: relative
      grid:
        - grid-template-columns: 0px 270px
      name:
        - font-size: 25px
        - color: white
        - justify-self: start
        - padding-left: 5px
    tap_action:
      action: none
  person:
    aspect_ratio: 1/1
    hold_action:
      action: more-info
      haptic: heavy
    show_entity_picture: true
    show_label: true
    show_last_changed: true
    show_name: false
    size: 100%
    state:
      - opacity: 1
        value: home
      - styles:
          icon:
            - filter: grayscale(100%)
          label:
            - color: gray
        value: not_home
      - operator: default
        styles:
          icon:
            - filter: grayscale(100%)
          label:
            - color: gray
    styles:
      card:
        - text-transform: capitalize
        - padding: 0px
        - box-shadow: none
        - background: none
      icon:
        - border-radius: 10%
      label:
        - font-size: 10px
        - padding-top: 5px
    tap_action:
      action: toggle
      haptic: light
cch:
  menu: hide
  options: hide
decluttering_templates:
  button_card_badge:
    card:
      aspect_ratio: 3/1
      color_type: card
      entity: '[[entity]]'
      hold_action:
        action: more-info
        haptic: heavy
      icon: |
        [[[
          if ("[[car_fuel_range]]"!="") {
            if ("[[car_charging_status]]"=="") {
              return "mdi:fuel";
            } else {
              var lvl = Math.ceil(states["[[car_fuel_level]]"].state / 10) * 10;
              var icon = "mdi:battery";
              if (states["[[car_charging_status]]"].state=="CHARGING") {
                return icon + "-charging-" + lvl;
              }
              if (lvl=="100") {
                return icon;
              } else {
                return icon + "-" + lvl;
              }          
            }
          } else {
            if ("[[icon]]" == "") {
              var icon = states["[[entity]]"].attributes.icon;
                if (icon == null) {
                  return "mdi:checkbox-blank-circle-outline";               
                } else { 
                  return icon;
                }            
            } else {
              return "[[icon]]";
            }
          }           
        ]]]                    
      label: |
        [[[
          if ("[[car_fuel_range]]"!="") {        
            if ("[[car_charging_status]]"=="") {
              return "Gas";
            } else {        
              if (states["[[car_charging_status]]"].state=="CHARGING") {
                const a = states["[[car_charging_time_remaining]]"].state.split(':')
                const seconds = (+a[0]) * 60 * 60 + (+a[1]) * 60 + (+a[2]); 
                var numhours = Math.floor(((seconds % 31536000) % 86400) / 3600);
                var numminutes = Math.floor((((seconds % 31536000) % 86400) % 3600) / 60);
                if (numhours > 1){
                  return numhours + " hours, " + numminutes + " min...";
                } else if (numhours == 1) {
                  return numhours + " hour, " + numminutes + " min...";
                } else {
                  return numminutes + " minutes...";
                }
              } else {
                return "Electric";
              }
            }
          } else {
            return null;
          }            
        ]]]  
      layout: icon_name
      name: |
        [[[
          if ("[[car_fuel_range]]"!="") {            
            var car_fuel_range = states["[[car_fuel_range]]"].state;
            var measurement = states["[[car_fuel_range]]"].attributes.unit_of_measurement;
            if (measurement=="km") {
              car_fuel_range = Math.floor(car_fuel_range * 0.62137);
              measurement = "MI";
            }  
            var name = car_fuel_range + " " + measurement;
            
            if ("[[car_fuel_level]]" == "") {
              if ("[[car_fuel_remaining]]"!="") {  
                var car_fuel_level = Math.floor(states["[[car_fuel_remaining]]"].state / states["[[car_fuel_max]]"].state * 100);
                name = car_fuel_level + "%  |  " + name
              }
            } else {
              var car_fuel_level = states["[[car_fuel_level]]"].state;
              name = car_fuel_level + "%  |  " + name
            }            

            return name;
          } else {
            if ("[[name]]" == "") {
              return entity.attributes.friendly_name;
            } else {
              return "[[name]]";
            }
          }
        ]]] 
      show_label: true
      show_last_changed: '[[show_last_changed]]'
      show_name: true
      show_state: false
      size: 100%
      state:
        - style:
            - opacity: 0.4
          styles:
            icon:
              - color: gray
            label:
              - color: gray
            name:
              - color: gray
            state:
              - color: gray
          value: 'off'
        - color: 'rgb(49,68,42)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(134,219,85)'
              - box-shadow: '0px 0px 9px 3px rgb(134,219,85)'
            icon:
              - color: 'rgb(134,219,85)'
            label:
              - color: 'rgb(134,219,85)'
            name:
              - font-weight: bold
          value: 'on'
        - color: 'rgb(49,68,42)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(134,219,85)'
              - box-shadow: '0px 0px 9px 3px rgb(134,219,85)'
            icon:
              - color: 'rgb(134,219,85)'
              - animation: blink 2s ease infinite
            label:
              - color: 'rgb(134,219,85)'
            name:
              - font-weight: bold
          value: CHARGING
        - color: 'rgb(71,39,45)'
          operator: <=
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(220,69,121)'
              - box-shadow: '0px 0px 9px 3px rgb(220,69,121)'
            icon:
              - color: 'rgb(220,69,121)'
              - animation: blink 2s ease infinite
            name:
              - font-weight: bold
          value: '[[red_lte_value]]'
        - color: 'rgb(71,39,45)'
          operator: '>='
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(220,69,121)'
              - box-shadow: '0px 0px 9px 3px rgb(220,69,121)'
            icon:
              - color: 'rgb(220,69,121)'
              - animation: blink 2s ease infinite
            name:
              - font-weight: bold
          value: '[[red_gte_value]]'
        - color: 'rgb(71,39,45)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(220,69,121)'
              - box-shadow: '0px 0px 9px 3px rgb(220,69,121)'
              - animation: blink 2s ease infinite
            icon:
              - color: 'rgb(220,69,121)'
            label:
              - color: 'rgb(220,69,121)'
            name:
              - font-weight: bold
          value: unavailable
        - operator: default
          style:
            - opacity: 0.4
          styles:
            icon:
              - color: gray
            label:
              - color: gray
            name:
              - color: gray
            state:
              - color: gray
      styles:
        card:
          - text-transform: uppercase
          - background-color: '#292929'
          - margin: 5px
          - padding: 2px
        grid:
          - grid-template-columns: 30px auto
        icon:
          - position: relative
          - height: 25px
        label:
          - font-size: x-small
        name:
          - padding-left: 2px
          - justify-self: start
          - font-size: small
      tap_action:
        action: toggle
        haptic: light
      type: 'custom:button-card'
    default:
      - name: ''
      - icon: ''
      - show_last_changed: true
      - car_fuel_remaining: ''
      - car_fuel_max: ''
      - car_fuel_level: ''
      - car_fuel_range: ''
      - car_charging_status: ''
      - car_charging_time_remaining: ''
      - red_lte_value: '-999999999'
      - red_gte_value: '999999999'
  button_card_badge_mini:
    card:
      aspect_ratio: 1/1
      color_type: card
      entity: '[[entity]]'
      hold_action:
        action: more-info
        haptic: heavy
      icon: |
        [[[
          if ("[[car_fuel_range]]"!="") {
            if ("[[car_charging_status]]"=="") {
              return "mdi:fuel";
            } else {
              var lvl = Math.ceil(states["[[car_fuel_level]]"].state / 10) * 10;
              var icon = "mdi:battery";
              if (states["[[car_charging_status]]"].state=="CHARGING") {
                return icon + "-charging-" + lvl;
              }
              if (lvl=="100") {
                return icon;
              } else {
                return icon + "-" + lvl;
              }          
            }
          } else {
            if ("[[icon]]" == "") {
              var entity = "[[entity]]".toLowerCase();
              if (entity.includes("_protect_smoke_status")) return 'mdi:fire';         
              if (entity.includes("_protect_co_status")) return 'mdi:skull';         
              if (entity.includes("input_boolean.options_auto_")) return 'mdi:graph';     

              var icon = states["[[entity]]"].attributes.icon;
              if (icon == null) {    
                return "mdi:checkbox-blank-circle-outline";               
              } else { 
                return icon;
              }            
            } else {
              return "[[icon]]";
            }
          }           
        ]]]                    
      name: |
        [[[
          if ("[[car_fuel_range]]"!="") {            
            var car_fuel_range = states["[[car_fuel_range]]"].state;
            var measurement = states["[[car_fuel_range]]"].attributes.unit_of_measurement;
            if (measurement=="km") {
              car_fuel_range = Math.floor(car_fuel_range * 0.62137);
              measurement = "MI";
            }  
            var name = car_fuel_range + " " + measurement;
            
            if ("[[car_fuel_level]]" == "") {
              if ("[[car_fuel_remaining]]"!="") {  
                var car_fuel_level = Math.floor(states["[[car_fuel_remaining]]"].state / states["[[car_fuel_max]]"].state * 100);
                name = car_fuel_level + "%  |  " + name
              }
            } else {
              var car_fuel_level = states["[[car_fuel_level]]"].state;
              name = car_fuel_level + "%  |  " + name
            }            

            return name;
          } else {
            if ("[[name]]" == "") {
              return entity.attributes.friendly_name;
            } else {
              return "[[name]]";
            }
          }
        ]]]  
      show_icon: true
      show_label: false
      show_name: '[[show_name]]'
      show_state: false
      size: 100%
      state:
        - style:
            - opacity: 0.4
          styles:
            icon:
              - color: gray
            name:
              - color: gray
          value: 'off'
        - color: 'rgb(49,68,42)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(134,219,85)'
              - box-shadow: '0px 0px 9px 3px rgb(134,219,85)'
            icon:
              - color: 'rgb(134,219,85)'
            name:
              - font-weight: bold
          value: 'on'
        - color: 'rgb(49,68,42)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(134,219,85)'
              - box-shadow: '0px 0px 9px 3px rgb(134,219,85)'
            icon:
              - color: 'rgb(134,219,85)'
              - animation: blink 2s ease infinite
            name:
              - font-weight: bold
          value: CHARGING
        - color: 'rgb(71,39,45)'
          operator: <=
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(220,69,121)'
              - box-shadow: '0px 0px 9px 3px rgb(220,69,121)'
            icon:
              - color: 'rgb(220,69,121)'
              - animation: blink 2s ease infinite
            name:
              - font-weight: bold
          value: '[[red_lte_value]]'
        - color: 'rgb(71,39,45)'
          operator: '>='
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(220,69,121)'
              - box-shadow: '0px 0px 9px 3px rgb(220,69,121)'
            icon:
              - color: 'rgb(220,69,121)'
              - animation: blink 2s ease infinite
            name:
              - font-weight: bold
          value: '[[red_gte_value]]'
        - color: 'rgb(71,39,45)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(220,69,121)'
              - box-shadow: '0px 0px 9px 3px rgb(220,69,121)'
              - animation: blink 2s ease infinite
            icon:
              - color: 'rgb(220,69,121)'
            name:
              - font-weight: bold
          value: unavailable
        - operator: default
          style:
            - opacity: 0.4
          styles:
            icon:
              - color: gray
            name:
              - color: gray
      styles:
        card:
          - border-radius: 10%
          - background-color: '#292929'
          - text-transform: uppercase
          - font-size: x-small
      tap_action:
        action: toggle
        haptic: light
      type: 'custom:button-card'
    default:
      - name: ''
      - icon: ''
      - show_name: false
      - car_fuel_remaining: ''
      - car_fuel_max: ''
      - car_fuel_level: ''
      - car_fuel_range: ''
      - car_charging_status: ''
      - car_charging_time_remaining: ''
      - red_lte_value: '-999999999'
      - red_gte_value: '999999999'
  button_card_atv_command:
    card:
      aspect_ratio: 1/1
      color: white
      entity: '[[remote]]'
      hold_action:
        action: more-info
        haptic: heavy
      icon: |
        [[[                           
        switch("[[command]]".toLowerCase()) {
            case 'back':
                return 'mdi:undo-variant'
                break;                
            case 'menu':
                return 'mdi:dots-horizontal'
                break;
            case 'directionup':
                return 'mdi:arrow-up'
                break;
            case 'directionleft':
                return 'mdi:arrow-left'
                break;
            case 'select':
                return 'mdi:circle-slice-8'
                break;
            case 'directionright':
                return 'mdi:arrow-right'
                break;
            case 'play':
                return 'mdi:play-pause'
                break;
            case 'directiondown':
                return 'mdi:arrow-down'
                break;
            default:
                return 'mdi:help-box';
        }                        
        ]]] 
      show_icon: true
      show_name: false
      size: 100%
      styles:
        card:
          - margin: 5px
          - width: calc(100% - 5px)
          - height: calc(100% - 5px)
          - border-radius: 10%
      tap_action:
        action: call-service
        haptic: light
        service: remote.send_command
        service_data:
          command: |
            [[[                           
              var command = "[[command]]";
              
              if (command.toLowerCase()==='back') {
                  command = "menu";
              } 
              if (command.toLowerCase().includes('direction')) {
                  command = command.replace("Direction","");
              }                  
            
              return command;                                              
            ]]] 
          entity_id: '[[remote]]'
      type: 'custom:button-card'
    default:
      - command: null
      - remote: null      
  button_card_harmony_activity:
    card:
      aspect_ratio: 1/1
      entity: '[[remote]]'
      hold_action:
        action: more-info
        haptic: heavy
      icon: |
        [[[
            var activity = "[[activity]]".toLowerCase();

            if (activity.includes("apple tv")) return 'mdi:apple';
            if (activity.includes("wii-u")) return 'mdi:wiiu';
            if (activity.includes("dvd")) return 'mdi:disc-player';
            if (activity.includes("switch")) return 'mdi:nintendo-switch';
            if (activity.includes("shield")) return 'mdi:shield';
            if (activity.includes("xbox")) return 'mdi:xbox';
            if (activity.includes("ps4")) return 'mdi:playstation';
            if (activity.includes("power")) return 'mdi:power';

            return "mdi:help-box";
        ]]]
      show_icon: true
      show_name: false
      size: 100%
      styles:
        card:
          - margin: 5px
          - width: calc(100% - 5px)
          - height: calc(100% - 5px)
          - border-radius: 10%
          - background-color: |
              [[[
                  var activity = "[[activity]]".toLowerCase();
                  var current_activity = states["[[remote]]"].attributes.current_activity.toLowerCase();
                  var color = "rgb(49,68,42)";

                  if (activity===current_activity) return color;                 
                  return "var(--primary-background-color)";
              ]]]
          - '-webkit-box-shadow': |
              [[[
                  var activity = "[[activity]]".toLowerCase();
                  var current_activity = states["[[remote]]"].attributes.current_activity.toLowerCase();
                  var color = "rgb(49,68,42)";

                  if (activity===current_activity) return color;                 
                  return "none";
              ]]]
          - box-shadow: |
              [[[
                  var activity = "[[activity]]".toLowerCase();
                  var current_activity = states["[[remote]]"].attributes.current_activity.toLowerCase();
                  var color = "rgb(49,68,42)";

                  if (activity===current_activity) return color;                 
                  return "none";
              ]]]         
        icon:
          - color: |
              [[[
                  var activity = "[[activity]]".toLowerCase();
                  var current_activity = states["[[remote]]"].attributes.current_activity.toLowerCase();
                  var color = "rgb(134,219,85)";

                  if (activity===current_activity) return color;
                  return "gray";
              ]]] 
          - opacity: |
              [[[
                  var activity = "[[activity]]".toLowerCase();
                  var current_activity = states["[[remote]]"].attributes.current_activity.toLowerCase();
                  var color = "1";

                  if (activity===current_activity) return color;
                  return "0.4";
              ]]]
      tap_action:
        action: call-service
        haptic: light
        service: remote.turn_on
        service_data:
          activity: '[[activity]]'
          entity_id: '[[remote]]'
      type: 'custom:button-card'
    default:
      - activity: null
      - remote: null      
  button_card_harmony_command:
    card:
      aspect_ratio: 1/1
      color: white
      entity: '[[remote]]'
      hold_action:
        action: more-info
        haptic: heavy
      icon: |
        [[[
        switch("[[command]]".toLowerCase()) {
            case 'rewind':
                return 'mdi:rewind'
                break;
            case 'fastforward':
                return 'mdi:fast-forward'
                break;
            case 'back':
                return 'mdi:undo-variant'
                break;                
            case 'menu':
                return 'mdi:dots-horizontal'
                break;
            case 'directionup':
                return 'mdi:arrow-up'
                break;
            case 'volumeup':
                return 'mdi:plus'
                break;
            case 'directionleft':
                return 'mdi:arrow-left'
                break;
            case 'select':
                return 'mdi:circle-slice-8'
                break;
            case 'directionright':
                return 'mdi:arrow-right'
                break;
            case 'play':
                return 'mdi:play-pause'
                break;
            case 'directiondown':
                return 'mdi:arrow-down'
                break;
            case 'volumedown':
                return 'mdi:minus'
                break;
            default:
                return 'mdi:help-box';
        }                        
        ]]] 
      show_icon: true
      show_name: false
      size: 100%
      styles:
        card:
          - margin: 5px
          - width: calc(100% - 5px)
          - height: calc(100% - 5px)
          - border-radius: 10%
      tap_action:
        action: call-service
        haptic: light
        service: remote.send_command
        service_data:
          command: |
            [[[                           
              var command = "[[command]]";
              var activity = states["[[remote]]"].attributes.current_activity.toLowerCase();
              
              if (activity.includes("shield")) {
                  if (command.toLowerCase()==='select') {
                      command = "Ok";
                  }
                  if (command.toLowerCase()==='menu') {
                      command = "Home";
                  }                    
              }
              if (activity.includes("apple")) {
                  if (command.toLowerCase()==='play') {
                      command = "pause";
                  }
              }  
              return command;                                              
            ]]] 
          device: |
            [[[                           
                var device = '';
                var command = "[[command]]";
                var activity = states["[[remote]]"].attributes.current_activity.toLowerCase();
                var remote = "[[remote]]".toLowerCase();

                if (command==='VolumeUp' || command==='VolumeDown') {
                   if (remote.includes("theater")) {
                      device = 'Onkyo AV Receiver';
                   } else if (remote.includes("living_room")) {
                      device = 'Onkyo TX-SR605';
                   }
                } else {
                  if (activity.includes("dvd")) {
                      device = 'DVD';
                  } else if (activity.includes("wii-u")) {
                      device = 'Wii U';
                  } else if (activity.includes("switch")) {
                      device = 'Nintendo Switch';
                  } else if (activity.includes("apple tv")) {
                      device = 'Apple TV 4K';
                  } else if (activity.includes("shield")) {
                      device = 'NVidia Game Console';                                    
                  } else if (activity.includes("xbox")) {
                      device = 'Xbox One Console';   
                  }
                }
                return device;
            ]]] 
          entity_id: '[[remote]]'
      type: 'custom:button-card'
    default:
      - command: null
      - remote: null
  button_card_on_off:
    card:
      entity: '[[entity]]'
      icon: |
        [[[
            if ("[[icon]]" == "") {
              if ("[[entity]]".toLowerCase().startsWith("cover")) {
                var state = states["[[entity]]"].state.toLowerCase();
                switch (state) {
                  case "open":
                    return "mdi:garage-open";
                    break; 
                  case "opening":
                    return "mdi:garage-open";
                    break; 
                  case "closing":
                    return "mdi:garage";
                    break; 
                  case "closed":
                    return "mdi:garage";
                    break;   
                  default: 
                    return "mdi:garage-alert";
                    break;
                }
              } else {
                var icon = states["[[entity]]"].attributes.icon;
                if (icon == null) {
                  return "mdi:help-circle";
                } else { 
                  return icon;
                }          
              }  
            } else {
              return "[[icon]]";
            }
        ]]] 
      name: '[[name]]'
      state:
        - style:
            - opacity: 0.4
          styles:
            custom_fields:
              status:
                - color: gray
            icon:
              - color: gray
            label:
              - color: gray
            name:
              - color: gray
            state:
              - color: gray
          value: 'off'
        - style:
            - opacity: 0.4
          styles:
            custom_fields:
              status:
                - color: gray
            icon:
              - color: gray
            label:
              - color: gray
            name:
              - color: gray
            state:
              - color: gray
          value: 'closed'
        - style:
            - opacity: 0.4
          styles:
            custom_fields:
              status:
                - color: gray
            icon:
              - color: gray
              - animation: blink 2s ease infinite
            label:
              - color: gray
            name:
              - color: gray
            state:
              - color: gray
          value: 'closing'
        - spin: '[[spin]]'
          style: null
          styles:
            card:
              - '-webkit-box-shadow': 0px 0px 9px 3px var(--button-card-light-color)
              - box-shadow: 0px 0px 9px 3px var(--button-card-light-color)
            name:
              - font-weight: bold
          value: 'open'
        - spin: '[[spin]]'
          style: null
          styles:
            icon:
              - animation: blink 2s ease infinite            
            card:
              - '-webkit-box-shadow': 0px 0px 9px 3px var(--button-card-light-color)
              - box-shadow: 0px 0px 9px 3px var(--button-card-light-color)
            name:
              - font-weight: bold
          value: 'opening'
        - spin: '[[spin]]'
          style: null
          styles:
            card:
              - '-webkit-box-shadow': 0px 0px 9px 3px var(--button-card-light-color)
              - box-shadow: 0px 0px 9px 3px var(--button-card-light-color)
            name:
              - font-weight: bold
          value: 'on'          
        - color: 'rgb(71,39,45)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(220,69,121)'
              - box-shadow: '0px 0px 9px 3px rgb(220,69,121)'
            icon:
              - color: 'rgb(220,69,121)'
              - animation: blink 2s ease infinite
            label:
              - color: 'rgb(220,69,121)'
            name:
              - font-weight: bold
          value: unlocked
        - color: 'rgb(49,68,42)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(134,219,85)'
              - box-shadow: '0px 0px 9px 3px rgb(134,219,85)'
            icon:
              - color: 'rgb(134,219,85)'
            label:
              - color: 'rgb(134,219,85)'
            name:
              - font-weight: bold
          value: locked
        - color: 'rgb(71,39,45)'
          styles:
            card:
              - '-webkit-box-shadow': '0px 0px 9px 3px rgb(220,69,121)'
              - box-shadow: '0px 0px 9px 3px rgb(220,69,121)'
              - animation: blink 2s ease infinite
            icon:
              - color: 'rgb(220,69,121)'
            label:
              - color: 'rgb(220,69,121)'
            name:
              - font-weight: bold
          value: unavailable
      template: decluttering_on_off
      type: 'custom:button-card'
    default:
      - name: null
      - icon: ''
      - spin: false
  button_card_plex:
    card:
      color_type: card
      custom_fields:
        content: |
          [[[ 
              var image = entity.attributes.entity_picture;
              var name = ((entity.attributes.friendly_name != null) ? entity.attributes.friendly_name + "&nbsp;&nbsp;|&nbsp;&nbsp;" + entity.state.charAt(0).toUpperCase() + entity.state.slice(1) : '');
              var username = ((entity.attributes.session_username != null) ? "&nbsp;&nbsp;|&nbsp;&nbsp;" + entity.attributes.session_username : '');
              var library = ((entity.attributes.app_name != null) ? entity.attributes.app_name + username : '');
              var title = ((entity.attributes.media_title != null) ? entity.attributes.media_title : '');
              var show = ((entity.attributes.media_series_title != null) ? entity.attributes.media_series_title : '');
              if (entity.attributes.media_series_title != null) {
                var season = "S" + ((entity.attributes.media_season.length == 1) ? "0" + entity.attributes.media_season : entity.attributes.media_season);
                var episode = "E" + ((entity.attributes.media_episode.length == 1) ? "0" + entity.attributes.media_episode : entity.attributes.media_episode);
                var subtitle = show + " - " + season + episode;
              } else { 
                var subtitle = '';
              }              
              if (entity.attributes.media_duration != null) {
                var progress = (entity.attributes.media_position / entity.attributes.media_duration) * 100;
                var duration = "&nbsp;&nbsp;|&nbsp;&nbsp;" + Math.floor(entity.attributes.media_duration / 60).toString() + " min";
              } else { 
                var duration = '';
                var progress = 0;
              }
              var rating = ((entity.attributes.media_content_rating != null) ? '<span style="border: 1px solid; padding: 2px 4px 2px 4px; font-weight:600">' + entity.attributes.media_content_rating + '</span>' + duration : '');

              return `<table width=100% height=100px align=left><tbody>
                <tr align=left><td rowspan="6" style="width: 80px;height: 120px;border-radius: 0%;background-size: 80px;background-repeat: no-repeat;background-color: black;background-position: center;" background="${image}"></td><td style="padding-bottom: 5px;">${name}</td></tr>
                <tr align=left><td><font size="+1"><strong>${title}</strong></font></td></tr>
                <tr align=left><td>${subtitle}</td></tr>
                <tr align=left style="color: gray;"><td>${rating}</td></tr>
                <tr align=left style="color: gray;"><td>${library}</td></tr>
                <tr align=left><td><progress max="100" value="${progress}" style="border: 0;height: 5px;width: 300px;border-radius: 9px;"></progress></td></tr>             
                </tbody></table>`
          ]]]
      entity: '[[entity]]'
      show_icon: false
      show_name: false
      styles:
        card:
          - width: 400px
          - height: 130px
          - font-size: 12px
          - padding-top: 2px
          - padding-bottom: 2px
          - margin: 5px
        custom_fields:
          content:
            - float: left
            - position: absolute
            - width: 100%
        img_cell:
          - margin: none
          - align-items: flex-end
      type: 'custom:button-card'
  button_card_ps4_command:
    card:
      aspect_ratio: 1/1
      color: white
      entity: '[[ps4]]'
      hold_action:
        action: more-info
        haptic: heavy
      icon: |
        [[[                           
        switch("[[command]]".toLowerCase()) {
            case 'rewind':
                return 'mdi:rewind'
                break;
            case 'fastforward':
                return 'mdi:fast-forward'
                break;
            case 'back':
                return 'mdi:undo-variant'
                break;                
            case 'menu':
                return 'mdi:dots-horizontal'
                break;
            case 'directionup':
                return 'mdi:arrow-up'
                break;
            case 'volumeup':
                return 'mdi:plus'
                break;
            case 'directionleft':
                return 'mdi:arrow-left'
                break;
            case 'select':
                return 'mdi:circle-slice-8'
                break;
            case 'directionright':
                return 'mdi:arrow-right'
                break;
            case 'play':
                return 'mdi:play-pause'
                break;
            case 'directiondown':
                return 'mdi:arrow-down'
                break;
            case 'volumedown':
                return 'mdi:minus'
                break;
            default:
                return 'mdi:help-box';
        }                        
        ]]] 
      show_icon: true
      show_name: false
      size: 100%
      styles:
        card:
          - margin: 5px
          - width: calc(100% - 5px)
          - height: calc(100% - 5px)
          - border-radius: 10%
      tap_action:
        action: call-service
        haptic: light
        service: ps4.send_command
        service_data:
          command: |
            [[[                           
              var command = "[[command]]";
              var activity = states["[[remote]]"].attributes.current_activity.toLowerCase();
              
              if (activity.includes("ps4")) {
                  if (command.toLowerCase()==='select') {
                     command = "Enter";
                  }    
                  if (command.toLowerCase()==='menu') {
                     command = "back";
                  } 
                  if (command.toLowerCase()==='play') {
                     command = "ps";
                  } 
                  if (command.toLowerCase().includes('direction')) {
                     command = command.replace("Direction","");
                  }                  
              }  
              return command;                                              
            ]]] 
          entity_id: '[[ps4]]'
      type: 'custom:button-card'
    default:
      - command: null
      - remote: null
      - ps4: null
  button_card_script:
    card:
      entity: '[[entity]]'
      hold_action:
        action: more-info
        haptic: heavy
      icon: '[[icon]]'
      show_icon: true
      show_name: false
      size: 80%
      styles:
        card:
          - width: 40px
          - height: 50px
          - box-shadow: none
          - background: none
          - float: right
      tap_action:
        action: call-service
        haptic: light
        service: script.turn_on
        service_data:
          entity_id: '[[entity]]'
      type: 'custom:button-card'
    default:
      - icon: 'mdi:power'
  button_card_system:
    card:
      custom_fields:
        cpu: |
          [[[
            return `<ha-icon
              icon="mdi:server"
              style="width: 17px; height: 17px; color: deepskyblue;">
              </ha-icon><span>CPU: <span style="color: var(--text-color-sensor);">${states['[[cpu]]'].state}%</span></span>`
          ]]]
        ram: |
          [[[
            return `<ha-icon
              icon="mdi:memory"
              style="width: 17px; height: 17px; color: deepskyblue;">
              </ha-icon><span>RAM: <span style="color: var(--text-color-sensor);">${states['[[memory]]'].state}%</span></span>`
          ]]]
        sd: |
          [[[
            return `<ha-icon
              icon="mdi:harddisk"
              style="width: 17px; height: 17px; color: deepskyblue;">
              </ha-icon><span>SD: <span style="color: var(--text-color-sensor);">${states['[[storage]]'].state}%</span></span>`
          ]]]             
        temp: |
          [[[
            var temp = states['[[temp]]'].state;
            if (temp == "unknown") temp = "?";
            return `<ha-icon
              icon="mdi:thermometer"
              style="width: 17px; height: 17px; color: yellow;">
              </ha-icon><span style="color: var(--text-color-sensor);">${temp}°C</span>`
          ]]]
      entity: '[[entity]]'
      icon: '[[icon]]'
      name: '[[name]]'
      styles:
        card:
          - width: 120px
          - height: 120px
          - padding: 0px 3px 5px 3px
          - margin: 5px
          - font-size: 15px
          - text-transform: capitalize
          - font-weight: bold
          - background-color: |
              [[[
                var trouble = 0;
                if ((states["[[temp]]"].state != "unknown") && (states["[[temp]]"].state > 80)) trouble=1;
                if (states["[[cpu]]"].state > 80) trouble=1;
                if (states["[[memory]]"].state > 80) trouble=1;
                if (states["[[storage]]"].state > 80) trouble=1;
                
                if (trouble=="1") return "rgb(71,39,45)";
              ]]] 
          - box-shadow: |
              [[[
                var trouble = 0;
                if ((states["[[temp]]"].state != "unknown") && (states["[[temp]]"].state > 80)) trouble=1;
                if (states["[[cpu]]"].state > 80) trouble=1;
                if (states["[[memory]]"].state > 80) trouble=1;
                if (states["[[storage]]"].state > 80) trouble=1;
                
                if (trouble=="1") return "0px 0px 9px 3px rgb(220,69,121)";
              ]]]               
        custom_fields:
          cpu:
            - padding-bottom: 2px
            - align-self: start
            - justify-self: start
            - '--text-color-sensor': '[[[ if (states["[[cpu]]"].state > 80) return "red"; ]]]'
            - animation: >-
                [[[ if (states["[[cpu]]"].state > 80) return "blink 2s ease
                infinite"; ]]]
          ram:
            - padding-bottom: 2px
            - align-self: start
            - justify-self: start
            - '--text-color-sensor': '[[[ if (states["[[memory]]"].state > 80) return "red"; ]]]'
            - animation: >-
                [[[ if (states["[[memory]]"].state > 80) return "blink 2s ease
                infinite"; ]]]
          sd:
            - align-self: start
            - justify-self: start
            - '--text-color-sensor': '[[[ if (states["[[storage]]"].state > 80) return "red"; ]]]'
            - animation: >-
                [[[ if (states["[[storage]]"].state > 80) return "blink 2s ease
                infinite"; ]]]
          temp:
            - align-self: start
            - justify-self: start
            - position: absolute
            - right: 10px
            - top: 5px
            - '--text-color-sensor': >-
                [[[ if ((states["[[temp]]"].state != "unknown") &&
                (states["[[temp]]"].state > 80)) return "red"; ]]]
            - animation: >-
                [[[ if ((states["[[temp]]"].state != "unknown") &&
                (states["[[temp]]"].state > 80)) return "blink 2s ease
                infinite"; ]]]
        grid:
          - grid-template-areas: '"i temp" "n n" "cpu cpu" "ram ram" "sd sd"'
          - grid-template-columns: 1fr 1fr
          - grid-template-rows: 1fr min-content min-content min-content min-content
        icon:
          - width: 50%
          - color: |
              [[[
                var trouble = 0;
                if ((states["[[temp]]"].state != "unknown") && (states["[[temp]]"].state > 80)) trouble=1;
                if (states["[[cpu]]"].state > 80) trouble=1;
                if (states["[[memory]]"].state > 80) trouble=1;
                if (states["[[storage]]"].state > 80) trouble=1;
                
                if (trouble=="1") return "rgb(220,69,121)";
                return "lime";
              ]]]         
        img_cell:
          - justify-content: start
          - align-items: start
        name:
          - font-size: 18px
          - color: white
          - align-self: start
          - justify-self: start
          - padding-bottom: 10px
      type: 'custom:button-card'
    default:
      - icon: 'mdi:desktop-classic'
  mini_graph_card_humidity:
    card:
      animate: true
      color_thresholds:
        - color: '#FF6e00'
          value: 100
        - color: '#FF7800'
          value: 95
        - color: '#FF8200'
          value: 90
        - color: '#FF8c00'
          value: 85
        - color: '#FF9600'
          value: 80
        - color: '#FFa000'
          value: 75
        - color: '#FFaa00'
          value: 70
        - color: '#FFb400'
          value: 66
        - color: '#FFbe00'
          value: 64
        - color: '#FFc800'
          value: 62
        - color: '#FFd200'
          value: 60
        - color: '#FFdc00'
          value: 58
        - color: '#FFe600'
          value: 56
        - color: '#FFf000'
          value: 54
        - color: '#FFfa00'
          value: 52
        - color: '#fdff00'
          value: 50
        - color: '#d7ff00'
          value: 49
        - color: '#b0ff00'
          value: 48
        - color: '#8aff00'
          value: 47
        - color: '#65ff00'
          value: 46
        - color: '#3eff00'
          value: 45
        - color: '#00ffd0'
          value: 40
        - color: '#00fff4'
          value: 38
        - color: '#00e4ff'
          value: 36
        - color: '#00d4ff'
          value: 34
        - color: '#00c4ff'
          value: 32
        - color: '#00b4ff'
          value: 30
        - color: '#00a4ff'
          value: 28
        - color: '#0094ff'
          value: 26
        - color: '#0084ff'
          value: 24
        - color: '#0074ff'
          value: 22
        - color: '#0064ff'
          value: 20
        - color: '#0054ff'
          value: 18
        - color: '#0044ff'
          value: 16
        - color: '#0032ff'
          value: 14
        - color: '#0022ff'
          value: 12
        - color: '#0012ff'
          value: 10
        - color: '#0002ff'
          value: 8
        - color: '#0000ff'
          value: 6
        - color: '#0100ff'
          value: 4
        - color: '#0200ff'
          value: 2
        - color: '#0300ff'
          value: 0
      entities:
        - entity: '[[entity]]'
          name: Humidity
      hour24: true
      hours_to_show: 24
      line_color: '#3949AB'
      name: Humidity
      show:
        fill: fade
      type: 'custom:mini-graph-card'
  mini_graph_card_temperature:
    card:
      animate: true
      color_thresholds:
        - color: '#FF6e00'
          value: 110
        - color: '#FF7800'
          value: 108
        - color: '#FF8200'
          value: 106
        - color: '#FF8c00'
          value: 104
        - color: '#FF9600'
          value: 102
        - color: '#FFa000'
          value: 100
        - color: '#FFaa00'
          value: 98
        - color: '#FFb400'
          value: 96
        - color: '#FFbe00'
          value: 94
        - color: '#FFc800'
          value: 92
        - color: '#FFd200'
          value: 90
        - color: '#FFdc00'
          value: 88
        - color: '#FFe600'
          value: 86
        - color: '#FFf000'
          value: 84
        - color: '#FFfa00'
          value: 82
        - color: '#fdff00'
          value: 80
        - color: '#d7ff00'
          value: 78
        - color: '#b0ff00'
          value: 76
        - color: '#8aff00'
          value: 74
        - color: '#65ff00'
          value: 72
        - color: '#3eff00'
          value: 70
        - color: '#17ff00'
          value: 68
        - color: '#00ff10'
          value: 66
        - color: '#00ff36'
          value: 64
        - color: '#00ff5c'
          value: 62
        - color: '#00ff83'
          value: 60
        - color: '#00ffa8'
          value: 58
        - color: '#00ffd0'
          value: 56
        - color: '#00fff4'
          value: 54
        - color: '#00e4ff'
          value: 52
        - color: '#00d4ff'
          value: 50
        - color: '#00c4ff'
          value: 48
        - color: '#00b4ff'
          value: 46
        - color: '#00a4ff'
          value: 44
        - color: '#0094ff'
          value: 42
        - color: '#0084ff'
          value: 40
        - color: '#0074ff'
          value: 38
        - color: '#0064ff'
          value: 36
        - color: '#0054ff'
          value: 34
        - color: '#0044ff'
          value: 32
        - color: '#0032ff'
          value: 30
        - color: '#0022ff'
          value: 28
        - color: '#0012ff'
          value: 26
        - color: '#0002ff'
          value: 24
        - color: '#0000ff'
          value: 22
        - color: '#0100ff'
          value: 20
        - color: '#0200ff'
          value: 18
        - color: '#0300ff'
          value: 16
        - color: '#0400ff'
          value: 14
        - color: '#0500ff'
          value: 12
      entities:
        - entity: '[[entity]]'
          index: 0
          name: Temperature
      extrema: true
      hour24: true
      hours_to_show: 24
      show:
        fill: fade
      type: 'custom:mini-graph-card'
  mini_media_player_cast:
    card:
      artwork: cover
      entity: '[[entity]]'
      group: true
      icon: '[[icon]]'
      idle_view:
        after: 5
        when_idle: false
      name: '[[name]]'
      shortcuts:
        attribute: media_content_id
        buttons:
          - id: 'http://listen.181fm.com/181-power_128k.mp3'
            name: Top 40
            type: music
          - id: 'http://listen.livestreamingservice.com/181-party_128k.mp3'
            name: Party
            type: music
          - id: 'http://listen.181fm.com/181-themix_128k.mp3'
            name: Mix
            type: music
          - id: 'http://listen.181fm.com/181-heart_128k.mp3'
            name: Love
            type: music
          - id: 'http://listen.livestreamingservice.com/181-greatoldies_128k.mp3'
            name: Gold
            type: music
          - id: 'http://144.217.129.213:8396/stream'
            name: Disco
            type: music
          - id: 'http://listen.181fm.com/181-70s_128k.mp3'
            name: 70s
            type: music
          - id: 'http://listen.181fm.com/181-awesome80s_128k.mp3'
            name: 80s
            type: music
          - id: 'http://listen.181fm.com/181-star90s_128k.mp3'
            name: 90s
            type: music
          - id: 'http://listen.livestreamingservice.com/181-greatoldies_128k.mp3'
            name: Oldies
            type: music
          - id: 'http://listen.181fm.com/181-rock40_128k.mp3'
            name: Rock
            type: music
          - id: 'http://listen.181fm.com/181-hardrock_128k.mp3'
            name: Heavy
            type: music
          - id: 'http://listen.181fm.com/181-hairband_128k.mp3'
            name: Hair
            type: music
          - id: 'http://listen.181fm.com/181-oldschool_128k.mp3'
            name: MCs
            type: music
          - id: 'http://listen.181fm.com/181-comedy_128k.mp3'
            name: Funny
            type: music
        columns: 5
        hide_when_off: true
      source: icon
      type: 'custom:mini-media-player'
    default:
      - name: Music
      - icon: 'mdi:music'
  mini_media_player_plex:
    card:
      artwork: full-cover
      entity: '[[entity]]'
      group: true
      hide:
        icon: true
        mute: true
        power_state: false
      icon: '[[icon]]'
      info: short
      name: '[[name]]'
      source: icon
      type: 'custom:mini-media-player'
    default:
      - name: Plex
      - icon: 'mdi:plex'
resources:
  - url: /community_plugin/power-wheel-card/power-wheel-card.js
    type: module
  - url: /community_plugin/garbage-collection-card/garbage-collection-card.js
    type: module
  - type: module
    url: /community_plugin/mini-media-player/mini-media-player-bundle.js
  - type: module
    url: /community_plugin/button-card/button-card.js
  - type: module
    url: /community_plugin/mini-graph-card/mini-graph-card-bundle.js
  - type: module
    url: /community_plugin/decluttering-card/decluttering-card.js
  - type: module
    url: /community_plugin/compact-custom-header/compact-custom-header.js
  - type: module
    url: /community_plugin/lovelace-auto-entities/auto-entities.js
  - type: js
    url: /community_plugin/lovelace-multiple-entity-row/multiple-entity-row.js
  - type: js
    url: /community_plugin/secondaryinfo-entity-row/secondaryinfo-entity-row.js
  - type: module
    url: /community_plugin/lovelace-card-tools/card-tools.js
  - type: js
    url: /community_plugin/bar-card/bar-card.js
  - type: module
    url: /community_plugin/weather-card/weather-card.js
  - type: null
    url: /community_plugin/lovelace-card-mod/card-mod.js
title: Home
views:
  - badges: []
    cards:
      - cards:
          - cards:
              - entity: person.jesse
                name: Jesse
                template: person
                type: 'custom:button-card'
              - entity: person.carina
                name: Carina
                template: person
                type: 'custom:button-card'
              - entity: person.ryan
                name: Ryan
                template: person
                type: 'custom:button-card'
              - entity: person.bianca
                name: Bianca
                template: person
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - entity: person.cida
                name: Cida
                template: person
                type: 'custom:button-card'
              - entity: person.camilla
                name: Camilla
                template: person
                type: 'custom:button-card'
              - entity: person.mariana
                name: Mariana
                template: person
                type: 'custom:button-card'
              - entity: person.edgar
                name: Edgar
                template: person
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.front_door_sconce
                  - name: Front
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.front_spotlight
                  - name: Front
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.driveway_sconce
                  - name: Driveway
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.pool_spotlight
                  - name: Driveway
            type: horizontal-stack                    
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: cover.garage_door
                  - name: Door
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.garage_dome
                  - name: Garage
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.boiler_room_pendant
                  - name: Boiler
            type: horizontal-stack
          - entities:
              - entity: cover.garage_door
                name: Door
            show_header_toggle: false
            type: entities                                 
          - type: custom:garbage-collection-card
            entity: sensor.recycle_day
            icon_size: 35px
            icon_color: green
            hide_before: 1
            hide_date: true
          - type: custom:garbage-collection-card
            entity: sensor.trash_day
            icon_size: 35px
            icon_color: '#0561ba'
            hide_before: 1
            hide_date: true
          - cards:
              - cards:
                  - entity: camera.garage
                    show_name: false
                    show_state: false
                    type: picture-entity
                  - aspect_ratio: 50%
                    entity: camera.front_door
                    show_name: false
                    show_state: false
                    type: picture-entity
                type: horizontal-stack
              - cards:
                  - aspect_ratio: 50%
                    entity: camera.driveway_front
                    show_name: false
                    show_state: false
                    type: picture-entity
                  - aspect_ratio: 50%
                    entity: camera.driveway_rear
                    show_name: false
                    show_state: false
                    type: picture-entity
                type: horizontal-stack
            type: vertical-stack
          - aspect_ratio: 50%
            entity: camera.front_ptz
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.front_center
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.front_right
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.front_left
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.rear_left
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.rear_center
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.porch
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.porch_under
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.pool
            show_name: false
            show_state: false
            type: picture-entity
          - aspect_ratio: 50%
            entity: camera.side_stairs
            show_name: false
            show_state: false
            type: picture-entity
        type: vertical-stack
    icon: 'mdi:home'
    path: default_view
    title: ''
  - badges: []
    cards:
      - current: true
        details: false
        entity: weather.dark_sky
        forecast: true
        type: 'custom:weather-card'
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                color_type: label-card
                name: Sense
                styles:
                  card:
                    - font-size: 35px
                    - box-shadow: none
                    - background: none
                    - padding-top: 30%
              - type: "custom:button-card"
                entity: sensor.energy_usage
                color_type: icon
                show_name: true
                name: Home
                size: 75%
                show_state: true
                show_icon: true
                icon: mdi:home
                styles:
                  card:
                    - font-size: 14px
                    - box-shadow: none
                    - background: none
                  icon:
                    - color: 'rgb(220,69,121)'
              - type: "custom:button-card"
                color_type: label-card
                name: >
                  [[[
                    return `<table><tr><td>Daily kWh</td></tr>
                          <tr><td>${states['sensor.daily_production'].state} / ${states['sensor.daily_usage'].state}</td></tr>
                          <tr><td>&nbsp;</td></tr>
                          <tr><td>Weekly kWh</td></tr>
                          <tr><td>${states['sensor.weekly_production'].state} / ${states['sensor.weekly_usage'].state}</td></tr>
                          </table>`
                  ]]]
                styles:
                  card:
                    - font-size: 16px
                    - margin-top: 10%
                    - box-shadow: none
                    - background: none
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                entity: sensor.grid_power_production
                color_type: icon
                size: 75%
                show_name: false
                show_state: false
                show_icon: true
                icon: mdi:arrow-top-right-thick
                styles:
                  card:
                    - box-shadow: none
                    - background: none
                  icon:
                    - color: 'rgb(220,69,121)'
                    - animation: blink 2s ease infinite
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card                                                
              - type: "custom:button-card"
                color_type: blank-card
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: sensor.grid_power_production
                color_type: icon
                size: 55%                
                show_name: true
                name: From Grid
                show_state: true
                show_icon: true
                icon: mdi:transmission-tower
                styles:
                  card:
                    - font-size: 14px                  
                    - box-shadow: none
                    - background: none
                  icon:
                    - color: 'rgb(220,69,121)'                    
              - type: "custom:button-card"
                entity: sensor.grid_power_production
                color_type: icon
                show_name: false
                show_state: false
                show_icon: true
                icon: mdi:arrow-left-thick
                aspect_ratio: 2.5/.8
                styles:
                  card:
                    - top: 60%
                    - box-shadow: none
                    - background: none
                  icon:
                    - color: 'rgb(220,69,121)'
                    - animation: blink 2s ease infinite
              - type: "custom:button-card"
                entity: sensor.energy_production
                color_type: icon
                size: 60%
                show_name: true
                name: Solar
                show_state: true
                show_icon: true
                icon: mdi:white-balance-sunny
                styles:
                  card:
                    - font-size: 14px                  
                    - box-shadow: none
                    - background: none
                  icon:
                    - color: 'rgb(220,69,121)'
      - cards:
          - cards:
              - icon: 'mdi:sofa'
                name: BMW i3
                template: header
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_badge
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.i3_94_rex_remaining_range_electric
                  - car_fuel_level: sensor.i3_94_rex_charging_level_hv
                  - car_fuel_range: sensor.i3_94_rex_remaining_range_electric
                  - car_charging_status: sensor.i3_94_rex_charging_status
                  - car_charging_time_remaining: sensor.i3_94_rex_charging_time_remaining
                  - red_lte_value: 40
                  - show_last_changed: false
              - template: button_card_badge
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.i3_94_rex_remaining_range_fuel
                  - car_fuel_range: sensor.i3_94_rex_remaining_range_fuel
                  - red_lte_value: 20
                  - show_last_changed: false
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: lock.i3_94_rex_lock
                  - name: Doors
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - icon: 'mdi:sofa'
                name: Volvo XC90
                template: header
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_badge
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.volvo_xc90_range
                  - car_fuel_level: sensor.volvo_xc90_fuel_level
                  - car_fuel_range: sensor.volvo_xc90_range
                  - red_lte_value: 20
                  - show_last_changed: false
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: lock.volvo_xc90_door_lock
                  - name: Doors
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
        type: vertical-stack
    icon: 'mdi:flower-poppy'
  - badges: []
    cards:
      - cards:
          - entity: climate.upstairs_ecobee
            name: Upstairs
            type: thermostat
          - cards:
              - icon: 'mdi:sofa'
                name: Entrance
                template: header
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.upstairs_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.upstairs_entrance_camera_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.front_door_sensor
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.hallway_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.hallway_protect_co_status
                  - red_gte_value: 1
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.upstairs_ecobee_temperature
              - template: mini_graph_card_humidity
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.upstairs_ecobee_humidity
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.upstairs_stairs
                  - name: Stairs
                  - icon: 'mdi:stairs'
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.upstairs_hallway_recessed
                  - name: Hallway
                  - icon: 'mdi:view-day'
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.upstairs_laundry
                  - name: Laundry
                  - icon: 'mdi:washing-machine'
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.upstairs_attic
                  - name: Attic
                  - icon: 'mdi:publish'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.upstairs_hallway_speaker
              - name: Hallway
          - entity: camera.upstairs_entrance
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - icon: 'mdi:sofa'
                name: Living Room
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.living_room_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.living_room_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.living_room_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.living_room_camera_motion
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.living_room_pendant
                  - name: Light
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: fan.living_room
                  - name: Fan
                  - spin: true
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.living_room_speaker
              - name: Music
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.cast_living_room_mini
              - name: Google Mini


          - type: conditional
            conditions:
              - entity: media_player.plex_living_room_apple_tv
                state: "playing"
            card:
              type: media-control
              entity: media_player.plex_living_room_apple_tv

          - type: conditional
            conditions:
              - entity: media_player.plex_living_room_apple_tv
                state: "paused"
              - entity: media_player.living_room_apple_tv
                state_not: "playing"
            card:
              type: media-control
              entity: media_player.plex_living_room_apple_tv
              
          - type: conditional
            conditions:
              - entity: media_player.plex_living_room_apple_tv
                state_not: "playing"
              - entity: media_player.living_room_apple_tv
                state: "playing"
            card:
              type: media-control
              entity: media_player.living_room_apple_tv

          - type: conditional
            conditions:
              - entity: media_player.plex_living_room_apple_tv
                state_not: "playing"
              - entity: media_player.plex_living_room_apple_tv
                state_not: "paused"
              - entity: media_player.living_room_apple_tv
                state: "paused"
            card:
              type: media-control
              entity: media_player.living_room_apple_tv


          - cards:
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - activity: PowerOff
              - color_type: blank-card
                type: 'custom:button-card'
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: menu
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: DirectionUp
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: VolumeUp
            type: horizontal-stack
          - cards:
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - activity: Watch Apple TV
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - activity: Play Switch
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: DirectionLeft
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: Select
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: DirectionRight
            type: horizontal-stack
          - cards:
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - activity: Play Wii-U
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - activity: Watch DVD
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: Play
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: DirectionDown
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.living_room_harmony_hub
                  - command: VolumeDown
            type: horizontal-stack
          - entity: camera.living_room
            show_name: false
            show_state: false
            type: picture-entity
          - entity: camera.furbo
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - icon: 'mdi:silverware-fork-knife'
                name: Dining Room
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.dining_room_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.dining_room_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.dining_room_camera_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.dining_room_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.dining_room_protect_co_status
                  - red_gte_value: 1
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.dining_room_pendant
                  - name: Light
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.dining_room_speaker
              - name: Music
          - entity: camera.dining_room
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - icon: 'mdi:stove'
                name: Kitchen
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.kitchen_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.kitchen_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.kitchen_sensor_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.kitchen_camera_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.kitchen_door_sensor
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.kitchen_sensor_ecobee_temperature
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.kitchen_recessed
                  - name: Ceiling
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.kitchen_pendant
                  - name: Table
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.kitchen_hub
              - name: Google Hub
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.kitchen_hub
              - name: Kitchen
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.kitchen_sink_speaker
              - name: Sink
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.kitchen_table_speaker
              - name: Table
          - entity: camera.kitchen
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - name: Isabella's Room
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.isabellas_room_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.isabellas_room_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.isabella_s_room_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.isabella_s_room_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.isabellas_room_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.isabellas_room_protect_co_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: input_boolean.options_auto_isabellas_room
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.isabella_s_room_ecobee_temperature
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.isabellas_room_dome
                  - name: Light
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.isabellas_room_accessory_right
                  - name: Desk
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.isabellas_room_accessory_left
                  - name: Spare
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.isabella_s_room_hub
              - name: Google Hub
          - card:
              entity: media_player.plex_isabellas_room_apple_tv
              type: media-control
            entities:
              - media_player.plex_isabellas_room_apple_tv
            show_empty: false
            show_header_toggle: false
            state_filter:
              - playing
              - paused
              - 'on'
            type: entity-filter              
          - entity: camera.isabellas_room
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - name: Bianca's Room
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.biancas_room_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.biancas_room_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.bianca_s_room_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.biancas_room_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.biancas_room_protect_co_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: input_boolean.options_auto_biancas_room
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.bianca_s_room_ecobee_temperature
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.biancas_room_dome
                  - name: Light
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.biancas_room_lava_lamp
                  - name: Lava Lamp
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.biancas_room_strip
                  - name: Strip
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.bianca_s_room_hub
              - name: Google Hub
          - card:
              entity: media_player.plex_biancas_iphone
              type: media-control
            entities:
              - media_player.plex_biancas_iphone
            show_empty: false
            show_header_toggle: false
            state_filter:
              - playing
              - paused
              - 'on'
            type: entity-filter
          - cards:
              - name: Master Bathroom
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.master_bathroom_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.master_bathroom_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.master_bathroom_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: input_boolean.options_auto_master_bathroom
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.master_bathroom_multisensor_temperature
              - template: mini_graph_card_humidity
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.master_bathroom_multisensor_relative_humidity
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.master_bathroom_recessed
                  - name: Light
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.master_bathroom_speaker
              - name: Music
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.master_bathroom_hub
              - name: Google Hub
          - cards:
              - name: Master Bedroom
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.master_bedroom_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.master_bedroom_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.master_bedroom_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.master_bedroom_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.master_bedroom_protect_co_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.sleepnumber_carina_carina_is_in_bed
                  - name: Carina
                  - show_name: true
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.sleepnumber_carina_jesse_is_in_bed
                  - name: Jesse
                  - show_name: true
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.master_bedroom_ecobee_temperature
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.master_bedroom_front_pendant
                  - name: Front
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: fan.master_bedroom_front
                  - name: Front
                  - spin: true
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.master_bedroom_carina_lamp
                  - name: Carina
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.master_bedroom_jesse_lamp
                  - name: Jesse
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.master_bedroom_rear_pendant
                  - name: Rear
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: fan.master_bedroom_rear
                  - name: Rear
                  - spin: true
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.master_bedroom_wall_sconce
                  - name: Wall
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.master_bedroom_ac
                  - name: A/C
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.master_bedroom_speaker
              - name: Music
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.master_bedroom_hub
              - name: Google Hub
          - cards:
              - name: Sunroom
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.sunroom_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.sunroom_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.sunroom_motion_sensor
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.sunroom_left_sconce
                  - name: Left
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.sunroom_center_sconce
                  - name: Center
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.sunroom_right_sconce
                  - name: Right
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.sunroom_speaker
              - name: Music
          - entity: camera.sunroom
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - name: Upstairs Bathroom
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.upstairs_bathroom_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.upstairs_bathroom_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.upstairs_bathroom_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: input_boolean.options_auto_upstairs_bathroom
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.upstairs_bathroom_multisensor_temperature
              - template: mini_graph_card_humidity
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.upstairs_bathroom_multisensor_relative_humidity
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.upstairs_bathroom_sconce
                  - name: Light
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.upstairs_bathroom_fan
                  - name: Fan
                  - spin: true
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.upstairs_bathroom_speaker
              - name: Music
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.upstairs_bathroom_hub
              - name: Google Hub
        type: vertical-stack
    icon: 'mdi:arrow-up-bold'
  - badges: []
    cards:
      - cards:
          - entity: climate.downstairs_ecobee
            name: Downstairs
            type: thermostat
          - cards:
              - icon: 'mdi:sofa'
                name: Mudroom
                template: header
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.downstairs_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.mudroom_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.mudroom_door_sensor
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.mudroom_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.mudroom_protect_co_status
                  - red_gte_value: 1
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.mudroom_hallway_dome
                  - name: Hallway
                  - icon: 'mdi:view-day'
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.mudroom_entrance_dome
                  - name: Entrance
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.mudroom_closet_dome
                  - name: Closet
                  - icon: 'mdi:shoe-heel'
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.playroom_dome
                  - name: Playroom
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.playroom_speaker
              - name: Music
          - card:
              entity: media_player.playroom_apple_tv
              type: media-control
            entities:
              - media_player.playroom_apple_tv
            show_empty: false
            show_header_toggle: false
            state_filter:
              - playing
              - paused
              - 'on'
            type: entity-filter
          - cards:
              - color_type: blank-card
                type: 'custom:button-card'
              - color_type: blank-card
                type: 'custom:button-card'
              - template: button_card_atv_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.playroom_apple_tv
                  - command: menu
              - template: button_card_atv_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.playroom_apple_tv
                  - command: DirectionUp
              - color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - color_type: blank-card
                type: 'custom:button-card'
              - color_type: blank-card
                type: 'custom:button-card'
              - template: button_card_atv_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.playroom_apple_tv
                  - command: DirectionLeft
              - template: button_card_atv_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.playroom_apple_tv
                  - command: Select
              - template: button_card_atv_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.playroom_apple_tv
                  - command: DirectionRight
            type: horizontal-stack
          - cards:
              - color_type: blank-card
                type: 'custom:button-card'
              - color_type: blank-card
                type: 'custom:button-card'
              - template: button_card_atv_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.playroom_apple_tv
                  - command: Play
              - template: button_card_atv_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.playroom_apple_tv
                  - command: DirectionDown
              - color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack             
          - entity: camera.playroom
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - name: Bathroom
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.downstairs_bathroom_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.downstairs_bathroom_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.downstairs_bathroom_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: input_boolean.options_auto_downstairs_bathroom
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.downstairs_bathroom_multisensor_temperature
              - template: mini_graph_card_humidity
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.downstairs_bathroom_multisensor_relative_humidity
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.downstairs_bathroom_sconce
                  - name: Light
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.downstairs_bathroom_fan
                  - name: Fan
                  - spin: true
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.downstairs_bathroom_speaker
              - name: Music
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.downstairs_bathroom_hub
              - name: Google Hub
          - cards:
              - name: Office
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.office_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.office_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.office_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.boiler_room_water_sensor_sensor
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.office_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.office_protect_co_status
                  - red_gte_value: 1
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.office_ecobee_temperature
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.office_dome
                  - name: Light
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - name: Ryan's Room
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.ryans_room_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.ryans_room_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.ryan_s_room_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.ryans_room_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.ryans_room_protect_co_status
                  - red_gte_value: 1
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.ryan_s_room_ecobee_temperature
            type: horizontal-stack
          - card:
              entity: media_player.plex_ryans_room_apple_tv
              type: media-control
            entities:
              - media_player.plex_ryans_room_apple_tv
            show_empty: false
            show_header_toggle: false
            state_filter:
              - playing
              - paused
              - 'on'
            type: entity-filter
          - card:
              entity: media_player.plex_iphone
              type: media-control
            entities:
              - media_player.plex_iphone
            show_empty: false
            show_header_toggle: false
            state_filter:
              - playing
              - paused
              - 'on'
            type: entity-filter
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.ryans_room_dome
                  - name: Light
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.ryan_s_room_hub
              - name: Google Hub
          - entity: climate.upstairs_ecobee
            name: Upstairs
            type: thermostat
          - cards:
              - icon: 'mdi:sofa'
                name: Theater
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.theater_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.theater_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.theater_ecobee_occupancy
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.theater_room_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.theater_protect_smoke_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.theater_protect_co_status
                  - red_gte_value: 1
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: input_boolean.options_auto_theater
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: mini_graph_card_temperature
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.theater_ecobee_temperature
              - template: mini_graph_card_humidity
                type: 'custom:decluttering-card'
                variables:
                  - entity: sensor.theater_ecobee_humidity
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.theater_wall_sconce
                  - name: Wall
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.theater_posters
                  - name: Posters
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.theater_candy
                  - name: Candy
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: light.theater_aisle
                  - name: Aisle
            type: horizontal-stack
          - template: mini_media_player_cast
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.theater_mini
              - name: Google Mini
          - card:
              entity: media_player.plex_theater
              type: media-control
            entities:
              - media_player.plex_theater
            show_empty: false
            show_header_toggle: false
            state_filter:
              - playing
              - paused
              - 'on'
            type: entity-filter
          - card:
              entity: media_player.playstation_4
              type: media-control
            entities:
              - media_player.playstation_4
            show_empty: false
            show_header_toggle: false
            state_filter:
              - playing
              - paused
              - 'on'
            type: entity-filter
          - cards:
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - activity: PowerOff
              - color_type: blank-card
                type: 'custom:button-card'
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: menu
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: DirectionUp
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: Back
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: VolumeUp
            type: horizontal-stack
          - cards:
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - activity: NVidia Shield
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - activity: PS4
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: DirectionLeft
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: Select
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: DirectionRight
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: Play
            type: horizontal-stack
          - cards:
              - template: button_card_harmony_activity
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - activity: Xbox One
              - color_type: blank-card
                type: 'custom:button-card'
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: Rewind
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: DirectionDown
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: FastForward
              - template: button_card_harmony_command
                type: 'custom:decluttering-card'
                variables:
                  - remote: remote.theater_harmony_hub
                  - command: VolumeDown
            type: horizontal-stack
          - entity: camera.theater
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - icon: 'mdi:sofa'
                name: Storage Room
                template: header
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.storage_room_freezer_door_sensor
                  - name: Freezer
                  - show_name: true
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.storage_room_water_sensor_sensor
                  - name: Freezer
                  - show_name: true
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - entity: camera.storage_room
            show_name: false
            show_state: false
            type: picture-entity
          - cards:
              - icon: 'mdi:sofa'
                name: Garage
                template: header
                type: 'custom:button-card'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.garage_poweroff_lights
                  - icon: 'mdi:lightbulb-off'
              - template: button_card_script
                type: 'custom:decluttering-card'
                variables:
                  - entity: script.garage_poweroff_all
                  - icon: 'mdi:power-plug-off'
            type: horizontal-stack
          - cards:
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.garage_camera_motion
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: binary_sensor.boiler_room_water_sensor_sensor
                  - name: Boiler
                  - show_name: true
              - template: button_card_badge_mini
                type: 'custom:decluttering-card'
                variables:
                  - entity: input_boolean.options_auto_garage
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 3/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - cards:
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.garage_dome
                  - name: Garage
              - template: button_card_on_off
                type: 'custom:decluttering-card'
                variables:
                  - entity: switch.boiler_room_pendant
                  - name: Boiler
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
              - aspect_ratio: 1/1
                color_type: blank-card
                type: 'custom:button-card'
            type: horizontal-stack
          - entities:
              - entity: cover.garage_door
                name: Door
            show_header_toggle: false
            type: entities
          - entity: camera.garage
            show_name: false
            show_state: false
            type: picture-entity
        type: vertical-stack
    icon: 'mdi:arrow-down-bold'
  - badges: []
    cards:
      - entities:
          - input_boolean.options_notifications_speech
          - input_boolean.options_lights_auto_on
          - input_boolean.options_notifications_flash
          - input_boolean.options_notifications_chime
          - input_boolean.options_pool_pump_automations
          - input_boolean.options_notifications_push
          - input_boolean.options_lights_auto_off
        show_header_toggle: false
        title: Options
        type: entities
      - entities:
          - entity: input_boolean.options_auto_upstairs_bathroom
          - entity: input_boolean.options_auto_isabellas_room
          - entity: input_boolean.options_auto_biancas_room
          - entity: input_boolean.options_auto_downstairs_bathroom
          - entity: input_boolean.options_auto_theater
          - entity: input_boolean.options_auto_garage
        title: Room Automations
        type: entities
    icon: 'mdi:settings'
  - badges: []
    cards:
      - cards:
          - cards:
              - name: Batteries
                template: header
                type: 'custom:button-card'
            type: horizontal-stack
          - card:
              align: split
              columns: 1
              height: 20
              rounding: 0px
              severity:
                - color: '#bf4040'
                  value: 30
                - color: '#bf9540'
                  value: 60
                - color: '#40bf40'
                  value: 100
              title_position: inside
              title_style:
                font-size: 12px
              type: 'custom:bar-card'
              unit_of_measurement: '%'
              value_style:
                font-size: 10px
              width: 100%
            filter:
              include:
                - entity_id: sensor.*.battery_level*
            sort:
              method: name
            type: 'custom:auto-entities'
        type: vertical-stack
    icon: 'mdi:hospital-box'
  - badges: []
    cards:
      - cards:
          - template: button_card_system
            type: 'custom:decluttering-card'
            variables:
              - entity: sensor.glances_inspiron_cpu_temp
              - name: Inspiron
              - cpu: sensor.glances_inspiron_cpu_used
              - temp: sensor.glances_inspiron_cpu_temp
              - memory: sensor.glances_inspiron_ram_used_percent
              - storage: sensor.glances_inspiron_disk_used_percent
          - template: button_card_system
            type: 'custom:decluttering-card'
            variables:
              - entity: sensor.glances_blueiris_cpu_temp
              - name: Blue Iris
              - cpu: sensor.glances_blueiris_cpu_used
              - temp: sensor.glances_blueiris_cpu_temp
              - memory: sensor.glances_blueiris_ram_used_percent
              - storage: sensor.glances_blueiris_disk_used_percent
        type: horizontal-stack
      - cards:
          - card:
              show_header_toggle: false
              title: Bianca's Room
              type: entities
            filter:
              exclude:
                - attributes:
                    essid: SKYNET-IOT-*
                  domain: device_tracker
                  state: home
              include:
                - attributes:
                    ap_mac: 'b4:fb:e4:d9:16:41'
                  domain: device_tracker
                  options:
                    hide_state: true
                    type: 'custom:multiple-entity-row'
                  state: home
            show_empty: true
            type: 'custom:auto-entities'
          - card:
              show_header_toggle: false
              title: Master Bedroom
              type: entities
            filter:
              exclude:
                - attributes:
                    essid: SKYNET-IOT-*
                  domain: device_tracker
                  state: home
              include:
                - attributes:
                    ap_mac: '80:2a:a8:16:65:42'
                  domain: device_tracker
                  options:
                    hide_state: true
                    type: 'custom:multiple-entity-row'
                  state: home
            show_empty: true
            type: 'custom:auto-entities'
          - card:
              show_header_toggle: false
              title: Ryan's Room
              type: entities
            filter:
              exclude:
                - attributes:
                    essid: SKYNET-IOT-*
                  domain: device_tracker
                  state: home
              include:
                - attributes:
                    ap_mac: '80:2a:a8:16:67:27'
                  domain: device_tracker
                  options:
                    hide_state: true
                    type: 'custom:multiple-entity-row'
                  state: home
            show_empty: true
            type: 'custom:auto-entities'
          - card:
              show_header_toggle: false
              title: Living Room
              type: entities
            filter:
              exclude:
                - attributes:
                    essid: SKYNET-IOT-*
                  domain: device_tracker
                  state: home
              include:
                - attributes:
                    ap_mac: 'f0:9f:c2:30:a3:c2'
                  domain: device_tracker
                  options:
                    hide_state: true
                    type: 'custom:multiple-entity-row'
                  state: home
            show_empty: true
            type: 'custom:auto-entities'
          - card:
              show_header_toggle: false
              title: Theater
              type: entities
            filter:
              exclude:
                - attributes:
                    essid: SKYNET-IOT-*
                  domain: device_tracker
                  state: home
              include:
                - attributes:
                    ap_mac: '80:2a:a8:16:65:45'
                  domain: device_tracker
                  options:
                    hide_state: true
                    type: 'custom:multiple-entity-row'
                  state: home
            show_empty: true
            type: 'custom:auto-entities'
        type: vertical-stack
    icon: 'mdi:lan'
  - badges: []
    cards:
      - cards:
          - template: button_card_plex
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.plex_aots
        type: horizontal-stack
      - cards:
          - template: button_card_plex
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.plex_ryans_room_apple_tv
        type: horizontal-stack
      - cards:
          - template: button_card_plex
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.plex_shield_android_tv
        type: horizontal-stack
      - cards:
          - template: button_card_plex
            type: 'custom:decluttering-card'
            variables:
              - entity: media_player.plex_living_room_apple_tv
        type: horizontal-stack
      - card:
          cards:
            - entity: light.theater_wall_sconce
              type: light
          type: vertical-stack
        style: |
          ha-card {
            border: 1px solid green;
          }
        type: 'custom:mod-card'
    icon: 'mdi:trash-can'